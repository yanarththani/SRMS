{"ast":null,"code":"var _jsxFileName = \"D:\\\\srms\\\\StudentGradesystem\\\\client\\\\src\\\\Components\\\\SelectionPage\\\\AddAcademicYearPage.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { Link } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AddAcademicYearPage = ({\n  userRole\n}) => {\n  _s();\n  const [academicYear, setAcademicYear] = useState('');\n  const [academicYears, setAcademicYears] = useState([]);\n  const [semester, setSemester] = useState('First Semester');\n  const [semesters, setSemesters] = useState(['First Semester', 'Second Semester']);\n  useEffect(() => {\n    // Fetch academic years from backend\n    axios.get('http://localhost:5000/api/academic-years').then(response => {\n      setAcademicYears(response.data);\n    }).catch(error => {\n      console.error('Error fetching academic years:', error);\n    });\n  }, []);\n  useEffect(() => {\n    // Fetch semesters based on selected academic year\n    if (academicYear) {\n      axios.get(`http://localhost:5000/api/semesters/${academicYear}`).then(response => {\n        setSemesters(response.data);\n      }).catch(error => {\n        console.error('Error fetching semesters:', error);\n      });\n    }\n  }, [academicYear]);\n  const addAcademicYear = () => {\n    // Send request to backend to add academic year\n    axios.post('http://localhost:5000/api/academic-years', {\n      year: academicYear\n    }).then(response => {\n      console.log('Academic year added successfully');\n      setAcademicYears([...academicYears, {\n        _id: response.data._id,\n        year: academicYear\n      }]);\n      setAcademicYear('');\n    }).catch(error => {\n      console.error('Error adding academic year:', error);\n    });\n  };\n  const handleSemesterChange = e => {\n    setSemester(e.target.value);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container_aca\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form1_box\",\n      children: [userRole === 'admin' && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Add Academic Year\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          style: {\n            height: '30px',\n            borderRadius: '5px',\n            border: 'none'\n          },\n          type: \"text\",\n          placeholder: \"Enter academic year\",\n          value: academicYear,\n          onChange: e => setAcademicYear(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn_academic\",\n          onClick: addAcademicYear,\n          children: \"Add Academic Year\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Academic Years\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          value: academicYear,\n          onChange: e => setAcademicYear(e.target.value),\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            children: \"Select academic year\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 9\n          }, this), academicYears.map((yearObject, index) => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: yearObject.year,\n            children: yearObject.year\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 11\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 7\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Semesters\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          value: semester,\n          onChange: handleSemesterChange,\n          children: semesters.map((semesterItem, index) => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: semesterItem,\n            children: semesterItem\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 7\n        }, this), userRole !== 'admin' && /*#__PURE__*/_jsxDEV(\"select\", {\n          value: semester,\n          onChange: handleSemesterChange,\n          children: semesters.map((semesterItem, index) => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: semesterItem,\n            children: semesterItem\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 13\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"link-button\",\n          children: /*#__PURE__*/_jsxDEV(Link, {\n            className: \"link_aca\",\n            to: `/subject?academicYear=${academicYear}&semester=${semester}`,\n            children: \"Next\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 3\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 7\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 5\n  }, this);\n};\n_s(AddAcademicYearPage, \"QLpX7wWaIBmEE1J/0Z7XDxxkZfg=\");\n_c = AddAcademicYearPage;\nexport default AddAcademicYearPage;\nvar _c;\n$RefreshReg$(_c, \"AddAcademicYearPage\");","map":{"version":3,"names":["React","useState","useEffect","axios","Link","jsxDEV","_jsxDEV","AddAcademicYearPage","userRole","_s","academicYear","setAcademicYear","academicYears","setAcademicYears","semester","setSemester","semesters","setSemesters","get","then","response","data","catch","error","console","addAcademicYear","post","year","log","_id","handleSemesterChange","e","target","value","className","children","fileName","_jsxFileName","lineNumber","columnNumber","style","height","borderRadius","border","type","placeholder","onChange","onClick","map","yearObject","index","semesterItem","to","_c","$RefreshReg$"],"sources":["D:/srms/StudentGradesystem/client/src/Components/SelectionPage/AddAcademicYearPage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst AddAcademicYearPage = ({ userRole }) => {\r\n  const [academicYear, setAcademicYear] = useState('');\r\n  const [academicYears, setAcademicYears] = useState([]);\r\n  const [semester, setSemester] = useState('First Semester');\r\n  const [semesters, setSemesters] = useState(['First Semester', 'Second Semester']);\r\n\r\n  useEffect(() => {\r\n    // Fetch academic years from backend\r\n    axios.get('http://localhost:5000/api/academic-years')\r\n      .then(response => {\r\n        setAcademicYears(response.data);\r\n      })\r\n      .catch(error => {\r\n        console.error('Error fetching academic years:', error);\r\n      });\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    // Fetch semesters based on selected academic year\r\n    if (academicYear) {\r\n      axios.get(`http://localhost:5000/api/semesters/${academicYear}`)\r\n        .then(response => {\r\n          setSemesters(response.data);\r\n        })\r\n        .catch(error => {\r\n          console.error('Error fetching semesters:', error);\r\n        });\r\n    }\r\n  }, [academicYear]);\r\n\r\n  const addAcademicYear = () => {\r\n    // Send request to backend to add academic year\r\n    axios.post('http://localhost:5000/api/academic-years', { year: academicYear })\r\n      .then(response => {\r\n        console.log('Academic year added successfully');\r\n        setAcademicYears([...academicYears, { _id: response.data._id, year: academicYear }]);\r\n        setAcademicYear('');\r\n      })\r\n      .catch(error => {\r\n        console.error('Error adding academic year:', error);\r\n      });\r\n  };\r\n\r\n  const handleSemesterChange = (e) => {\r\n    setSemester(e.target.value);\r\n  };\r\n\r\n  return (\r\n    <div className='container_aca'>\r\n      <div className='form1_box' >\r\n      {userRole === 'admin' && (\r\n        <div >\r\n          <h2>Add Academic Year</h2>\r\n          <input style={{height:'30px', borderRadius:'5px',border:'none'}}\r\n            type=\"text\" \r\n            placeholder=\"Enter academic year\" \r\n            value={academicYear} \r\n            onChange={(e) => setAcademicYear(e.target.value)} \r\n          />\r\n          <button className='btn_academic' onClick={addAcademicYear}>Add Academic Year</button>\r\n          \r\n        </div>\r\n      )}\r\n      <div>\r\n      <h2>Academic Years</h2>\r\n      <select value={academicYear} onChange={(e) => setAcademicYear(e.target.value)}>\r\n        <option value=\"\">Select academic year</option>\r\n        {academicYears.map((yearObject, index) => (\r\n          <option key={index} value={yearObject.year}>{yearObject.year}</option>\r\n        ))}\r\n      </select>\r\n      </div>\r\n      <div>\r\n      <h2>Semesters</h2>\r\n      {/* Render semester dropdown for non-admin users */}\r\n      <select value={semester} onChange={handleSemesterChange}>\r\n            {semesters.map((semesterItem, index) => (\r\n              <option key={index} value={semesterItem}>{semesterItem}</option>\r\n            ))}\r\n          </select>\r\n      {userRole !== 'admin' && (\r\n        <select value={semester} onChange={handleSemesterChange}>\r\n          {semesters.map((semesterItem, index) => (\r\n            <option key={index} value={semesterItem}>{semesterItem}</option>\r\n          ))}\r\n        </select>\r\n      )}<br></br>\r\n      <button className=\"link-button\">\r\n  <Link className='link_aca' to={`/subject?academicYear=${academicYear}&semester=${semester}`}>Next</Link>\r\n</button>\r\n      </div>\r\n    </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AddAcademicYearPage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}