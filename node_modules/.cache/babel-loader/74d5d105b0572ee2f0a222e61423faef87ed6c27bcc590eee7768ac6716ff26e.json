{"ast":null,"code":"var _jsxFileName = \"D:\\\\srms\\\\StudentGradesystem\\\\client\\\\src\\\\Components\\\\SelectionPage\\\\AddAcademicYearPage.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { Link } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AddAcademicYearPage = ({\n  userRole\n}) => {\n  _s();\n  const [academicYear, setAcademicYear] = useState('');\n  const [academicYears, setAcademicYears] = useState([]);\n  const [semester, setSemester] = useState('First Semester');\n  const [semesters, setSemesters] = useState(['First Semester', 'Second Semester']);\n  useEffect(() => {\n    // Fetch academic years from backend\n    axios.get('http://localhost:5000/api/academic-years').then(response => {\n      setAcademicYears(response.data);\n    }).catch(error => {\n      console.error('Error fetching academic years:', error);\n    });\n  }, []);\n  useEffect(() => {\n    // Fetch semesters based on selected academic year\n    if (academicYear) {\n      axios.get(`http://localhost:5000/api/semesters/${academicYear}`).then(response => {\n        setSemesters(response.data);\n      }).catch(error => {\n        console.error('Error fetching semesters:', error);\n      });\n    }\n  }, [academicYear]);\n  const addAcademicYear = () => {\n    // Send request to backend to add academic year\n    axios.post('http://localhost:5000/api/academic-years', {\n      year: academicYear\n    }).then(response => {\n      console.log('Academic year added successfully');\n      setAcademicYears([...academicYears, {\n        _id: response.data._id,\n        year: academicYear\n      }]);\n      setAcademicYear('');\n    }).catch(error => {\n      console.error('Error adding academic year:', error);\n    });\n  };\n  const handleSemesterChange = e => {\n    setSemester(e.target.value);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container_aca\",\n    children: [userRole === 'admin' && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form1_box\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Add Academic Year\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"Enter academic year\",\n        value: academicYear,\n        onChange: e => setAcademicYear(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn_academic\",\n        onClick: addAcademicYear,\n        children: \"Add Academic Year\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form1_box\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Academic Years\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        value: academicYear,\n        onChange: e => setAcademicYear(e.target.value),\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\",\n          children: \"Select academic year\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 9\n        }, this), academicYears.map((yearObject, index) => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: yearObject.year,\n          children: yearObject.year\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 11\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form1_box\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Semesters\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        value: semester,\n        onChange: handleSemesterChange,\n        children: semesters.map((semesterItem, index) => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: semesterItem,\n          children: semesterItem\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 7\n      }, this), userRole !== 'admin' && /*#__PURE__*/_jsxDEV(\"select\", {\n        value: semester,\n        onChange: handleSemesterChange,\n        children: semesters.map((semesterItem, index) => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: semesterItem,\n          children: semesterItem\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"link-button\",\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          className: \"link_aca\",\n          to: `/subject?academicYear=${academicYear}&semester=${semester}`,\n          children: \"Next\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 3\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 5\n  }, this);\n};\n_s(AddAcademicYearPage, \"QLpX7wWaIBmEE1J/0Z7XDxxkZfg=\");\n_c = AddAcademicYearPage;\nexport default AddAcademicYearPage;\nvar _c;\n$RefreshReg$(_c, \"AddAcademicYearPage\");","map":{"version":3,"names":["React","useState","useEffect","axios","Link","jsxDEV","_jsxDEV","AddAcademicYearPage","userRole","_s","academicYear","setAcademicYear","academicYears","setAcademicYears","semester","setSemester","semesters","setSemesters","get","then","response","data","catch","error","console","addAcademicYear","post","year","log","_id","handleSemesterChange","e","target","value","className","children","fileName","_jsxFileName","lineNumber","columnNumber","type","placeholder","onChange","onClick","map","yearObject","index","semesterItem","to","_c","$RefreshReg$"],"sources":["D:/srms/StudentGradesystem/client/src/Components/SelectionPage/AddAcademicYearPage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst AddAcademicYearPage = ({ userRole }) => {\r\n  const [academicYear, setAcademicYear] = useState('');\r\n  const [academicYears, setAcademicYears] = useState([]);\r\n  const [semester, setSemester] = useState('First Semester');\r\n  const [semesters, setSemesters] = useState(['First Semester', 'Second Semester']);\r\n\r\n  useEffect(() => {\r\n    // Fetch academic years from backend\r\n    axios.get('http://localhost:5000/api/academic-years')\r\n      .then(response => {\r\n        setAcademicYears(response.data);\r\n      })\r\n      .catch(error => {\r\n        console.error('Error fetching academic years:', error);\r\n      });\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    // Fetch semesters based on selected academic year\r\n    if (academicYear) {\r\n      axios.get(`http://localhost:5000/api/semesters/${academicYear}`)\r\n        .then(response => {\r\n          setSemesters(response.data);\r\n        })\r\n        .catch(error => {\r\n          console.error('Error fetching semesters:', error);\r\n        });\r\n    }\r\n  }, [academicYear]);\r\n\r\n  const addAcademicYear = () => {\r\n    // Send request to backend to add academic year\r\n    axios.post('http://localhost:5000/api/academic-years', { year: academicYear })\r\n      .then(response => {\r\n        console.log('Academic year added successfully');\r\n        setAcademicYears([...academicYears, { _id: response.data._id, year: academicYear }]);\r\n        setAcademicYear('');\r\n      })\r\n      .catch(error => {\r\n        console.error('Error adding academic year:', error);\r\n      });\r\n  };\r\n\r\n  const handleSemesterChange = (e) => {\r\n    setSemester(e.target.value);\r\n  };\r\n\r\n  return (\r\n    <div className='container_aca'>\r\n      {userRole === 'admin' && (\r\n        <div className='form1_box'>\r\n          <h2>Add Academic Year</h2>\r\n          <input \r\n            type=\"text\" \r\n            placeholder=\"Enter academic year\" \r\n            value={academicYear} \r\n            onChange={(e) => setAcademicYear(e.target.value)} \r\n          />\r\n          <button className='btn_academic' onClick={addAcademicYear}>Add Academic Year</button>\r\n          {/* Render semester dropdown only for admin */}\r\n          \r\n        </div>\r\n      )}\r\n      <div className='form1_box'>\r\n      <h2>Academic Years</h2>\r\n      <select value={academicYear} onChange={(e) => setAcademicYear(e.target.value)}>\r\n        <option value=\"\">Select academic year</option>\r\n        {academicYears.map((yearObject, index) => (\r\n          <option key={index} value={yearObject.year}>{yearObject.year}</option>\r\n        ))}\r\n      </select>\r\n      </div>\r\n      <div className='form1_box'>\r\n      <h2>Semesters</h2>\r\n      {/* Render semester dropdown for non-admin users */}\r\n      <select value={semester} onChange={handleSemesterChange}>\r\n            {semesters.map((semesterItem, index) => (\r\n              <option key={index} value={semesterItem}>{semesterItem}</option>\r\n            ))}\r\n          </select>\r\n      {userRole !== 'admin' && (\r\n        <select value={semester} onChange={handleSemesterChange}>\r\n          {semesters.map((semesterItem, index) => (\r\n            <option key={index} value={semesterItem}>{semesterItem}</option>\r\n          ))}\r\n        </select>\r\n      )}\r\n      <button className=\"link-button\">\r\n  <Link className='link_aca' to={`/subject?academicYear=${academicYear}&semester=${semester}`}>Next</Link>\r\n</button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AddAcademicYearPage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}